# OpenFilz - Dokploy Environment Configuration
#
# Copy these variables to Dokploy's Environment tab
# Replace 'yourdomain.com' with your actual domain

# =============================================================================
# Domain Configuration (REQUIRED)
# =============================================================================
# Set these to your actual domains (must have DNS A records pointing to Dokploy server)
WEB_HOSTNAME=app.yourdomain.com
API_HOSTNAME=api.yourdomain.com
KEYCLOAK_HOSTNAME=auth.yourdomain.com
ONLYOFFICE_HOSTNAME=docs.yourdomain.com

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_IMAGE=postgres:16
DB_NAME=dms_db
DB_USER=dms_user
DB_PASSWORD=change-this-strong-password

# =============================================================================
# API Configuration
# =============================================================================
OPENFILZ_API_IMAGE=ghcr.io/openfilz/openfilz-api:latest
JAVA_OPTS=-Xmx1g -Xms512m

OPENFILZ_INTERNAL_API_BASE_URL=http://openfilz-api:8081
OPENFILZ_PUBLIC_API_BASE_URL=http://localhost:8081

OPENFILZ_SOFT_DELETE=true


# =============================================================================
# Web Configuration
# =============================================================================
OPENFILZ_WEB_IMAGE=ghcr.io/openfilz/openfilz-web:latest

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins (use your actual domains with https://)
CORS_ALLOWED_ORIGINS=https://app.yourdomain.com,https://docs.yourdomain.com

# =============================================================================
# Security Configuration (Keycloak)
# =============================================================================
KEYCLOAK_IMAGE=ghcr.io/openfilz/keycloak:26.5
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=change-this-admin-password
KEYCLOAK_CLIENT_ID=openfilz-web
# Internal Docker URL for Keycloak realm (used by API for JWK fetching)
KEYCLOAK_REALM_URL=http://keycloak:8080/realms/openfilz
# Keycloak database (auto-created by init-keycloak-db.sh on first postgres startup)
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=change-this-keycloak-db-password
KEYCLOAK_DB_NAME=keycloak

# =============================================================================
# OnlyOffice Configuration
# =============================================================================
# IMPORTANT: Change this secret in production!
ONLYOFFICE_JWT_SECRET=change-this-onlyoffice-jwt-secret
# Internal Docker URLs (don't change unless you know what you're doing)
ONLYOFFICE_URL=http://onlyoffice

# =============================================================================
# Storage Configuration
# =============================================================================
# Storage type: local (default) - MinIO not included in this Dokploy setup
STORAGE_TYPE=local
