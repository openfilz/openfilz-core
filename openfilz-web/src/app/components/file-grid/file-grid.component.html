<div class="file-grid-container">
    <div class="file-grid">
        @for(item of items; track item.id) {
            <div
                class="file-item"
                [class.selected]="item.selected"
                (click)="onItemClick(item)"
                (dblclick)="onItemDoubleClick(item)"
                (contextmenu)="onContextMenu($event, item)">

                <div class="file-header">
                    <mat-checkbox
                            [checked]="item.selected"
                            (click)="$event.stopPropagation()"
                            (change)="onSelectionChange(item, $event.checked)">
                    </mat-checkbox>
                </div>

                <div class="file-content">
                    <div class="file-icon">
                        <mat-icon [class]="'file-type-' + item.type.toLowerCase()">
                            {{ getFileIcon(item.name, item.type) }}
                        </mat-icon>
                    </div>

                    <div class="file-name" [title]="item.name">
                        {{ item.name }}
                    </div>
                </div>
            </div>
        }
    </div>
    <div class="dropzone-overlay" [class.file-over]="fileOver">
        <div class="dropzone-message">
            <mat-icon>cloud_upload</mat-icon>
            <p>Drop files here to upload</p>
        </div>
    </div>
    
</div>
