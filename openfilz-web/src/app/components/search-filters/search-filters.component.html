<div class="filters-overlay">
  <!-- Header -->
  <div class="filters-header">
    <h3>
      <mat-icon>tune</mat-icon>
      Search Filters
    </h3>
  </div>

  <!-- Scrollable Content -->
  <div class="filters-content">
    <!-- Type Filter -->
    <div class="filter-section">
      <label>Type</label>
      <select [(ngModel)]="filters.type">
        <option *ngFor="let type of documentTypes" [ngValue]="type.value">
          {{ type.label }}
        </option>
      </select>
    </div>

    <!-- Date Modified Filter -->
    <div class="filter-section">
      <label>Date Modified</label>
      <select [(ngModel)]="filters.dateModified">
        <option *ngFor="let date of dateOptions" [value]="date.value">
          {{ date.label }}
        </option>
      </select>
    </div>

    <!-- Owner Filter -->
    <div class="filter-section">
      <label>Owner</label>
      <input
        type="text"
        [(ngModel)]="filters.owner"
        placeholder="Created by..."
      />
    </div>

    <!-- File Type Filter (Conditional) -->
    @if (showFileTypeFilter) {
      <div class="filter-section">
        <label>File Type</label>
        <select [(ngModel)]="filters.fileType">
          <option *ngFor="let ft of fileTypeOptions" [value]="ft.value">
            {{ ft.label }}
          </option>
        </select>
      </div>
    }

    <!-- Metadata Filter -->
    <div class="filter-section">
      <label>Metadata</label>
      <div class="metadata-list">
        <div *ngFor="let meta of metadataFilters; let i = index" class="metadata-item">
          <input type="text" [(ngModel)]="meta.key" placeholder="Key" class="meta-input" />
          <input type="text" [(ngModel)]="meta.value" placeholder="Value" class="meta-input" />
          <button class="btn-remove" (click)="$event.stopPropagation(); removeMetadataFilter(i)" matTooltip="Remove">
            <mat-icon>close</mat-icon>
          </button>
        </div>
        <button class="btn-add" (click)="addMetadataFilter()">
          <mat-icon>add</mat-icon>
          Add Metadata Filter
        </button>
      </div>
    </div>
  </div>

  <!-- Footer Actions -->
  <div class="filter-actions">
    <button class="btn-clear" (click)="clearFilters()">Clear</button>
    <button class="btn-apply" (click)="applyFilters()">Apply Filters</button>
  </div>
</div>
